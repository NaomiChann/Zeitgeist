[gd_scene load_steps=40 format=3 uid="uid://bcfkdy7r7q5b8"]

[ext_resource type="Script" path="res://game/characters/enemies/laboratory/rabomination/rabomination.gd" id="1_bvf7w"]
[ext_resource type="Texture2D" uid="uid://cy4i6hq7238qy" path="res://game/characters/enemies/laboratory/rabomination/sprite/rabomination.png" id="1_rkgka"]
[ext_resource type="Script" path="res://game/scripts_general/classes/state_machine/state_machine.gd" id="3_ntrv7"]
[ext_resource type="Script" path="res://game/scripts_general/classes/state_machine/state_sample.gd" id="4_attu2"]

[sub_resource type="AtlasTexture" id="AtlasTexture_c8wyb"]
atlas = ExtResource("1_rkgka")
region = Rect2(192, 0, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_t67hx"]
atlas = ExtResource("1_rkgka")
region = Rect2(240, 0, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_6te0x"]
atlas = ExtResource("1_rkgka")
region = Rect2(288, 0, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_o2vev"]
atlas = ExtResource("1_rkgka")
region = Rect2(0, 32, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_lsvnb"]
atlas = ExtResource("1_rkgka")
region = Rect2(48, 32, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_f8v0k"]
atlas = ExtResource("1_rkgka")
region = Rect2(96, 32, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_3nn2d"]
atlas = ExtResource("1_rkgka")
region = Rect2(48, 0, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_3rvkg"]
atlas = ExtResource("1_rkgka")
region = Rect2(96, 0, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_r21nu"]
atlas = ExtResource("1_rkgka")
region = Rect2(192, 32, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_idf8b"]
atlas = ExtResource("1_rkgka")
region = Rect2(240, 32, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_c8mid"]
atlas = ExtResource("1_rkgka")
region = Rect2(288, 32, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_7cjse"]
atlas = ExtResource("1_rkgka")
region = Rect2(0, 64, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_b18dd"]
atlas = ExtResource("1_rkgka")
region = Rect2(48, 64, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_elyer"]
atlas = ExtResource("1_rkgka")
region = Rect2(96, 64, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_c1nhe"]
atlas = ExtResource("1_rkgka")
region = Rect2(144, 64, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ccj0n"]
atlas = ExtResource("1_rkgka")
region = Rect2(192, 64, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_nolvq"]
atlas = ExtResource("1_rkgka")
region = Rect2(240, 64, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_g11im"]
atlas = ExtResource("1_rkgka")
region = Rect2(288, 64, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_dwb0d"]
atlas = ExtResource("1_rkgka")
region = Rect2(0, 96, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_dexo1"]
atlas = ExtResource("1_rkgka")
region = Rect2(48, 96, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_b51l1"]
atlas = ExtResource("1_rkgka")
region = Rect2(96, 96, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_sqrle"]
atlas = ExtResource("1_rkgka")
region = Rect2(144, 96, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ivqqn"]
atlas = ExtResource("1_rkgka")
region = Rect2(192, 96, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_cs1md"]
atlas = ExtResource("1_rkgka")
region = Rect2(240, 96, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_p6drf"]
atlas = ExtResource("1_rkgka")
region = Rect2(288, 96, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_l368m"]
atlas = ExtResource("1_rkgka")
region = Rect2(0, 128, 48, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_x2x70"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_c8wyb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_t67hx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6te0x")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_o2vev")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lsvnb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_f8v0k")
}],
"loop": true,
"name": &"alert",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_3nn2d")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3rvkg")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_r21nu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_idf8b")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_c8mid")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7cjse")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_b18dd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_elyer")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_c1nhe")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ccj0n")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nolvq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_g11im")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dwb0d")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dexo1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_b51l1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sqrle")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ivqqn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cs1md")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_p6drf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_l368m")
}],
"loop": true,
"name": &"open",
"speed": 5.0
}]

[sub_resource type="Animation" id="Animation_1md70"]
resource_name = "idle"
length = 2.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"idle"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = false
tracks/1/keys = {
"times": PackedFloat32Array(0.5, 1.4),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0, 1]
}

[sub_resource type="Animation" id="Animation_lss1e"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"idle"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [1]
}

[sub_resource type="Animation" id="Animation_w1l3i"]
resource_name = "open"
length = 1.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"open"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.1, 1.3),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0, 17]
}

[sub_resource type="Animation" id="Animation_x23kl"]
resource_name = "attack"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"open"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [17]
}

[sub_resource type="Animation" id="Animation_20ql1"]
resource_name = "alert"
length = 2.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5, 1, 1.4),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [0, 4, 3, 5]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:animation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"alert"]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_8l78a"]
_data = {
"RESET": SubResource("Animation_lss1e"),
"alert": SubResource("Animation_20ql1"),
"attack": SubResource("Animation_x23kl"),
"idle": SubResource("Animation_1md70"),
"open": SubResource("Animation_w1l3i")
}

[sub_resource type="RectangleShape2D" id="RectangleShape2D_o7bd5"]
size = Vector2(20, 18)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_r5os3"]
size = Vector2(26, 21)

[node name="rabomination" type="CharacterBody2D"]
collision_layer = 2
collision_mask = 4
script = ExtResource("1_bvf7w")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
position = Vector2(0, -6)
sprite_frames = SubResource("SpriteFrames_x2x70")
animation = &"idle"
frame = 1

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_8l78a")
}

[node name="enemy_col" type="CollisionShape2D" parent="."]
position = Vector2(0, -1)
shape = SubResource("RectangleShape2D_o7bd5")

[node name="enemy_hurtbox" type="Area2D" parent="."]
collision_layer = 2

[node name="enemy_hurtbox_col" type="CollisionShape2D" parent="enemy_hurtbox"]
position = Vector2(0, -2.5)
shape = SubResource("RectangleShape2D_r5os3")

[node name="player_detector" type="Area2D" parent="."]
collision_layer = 0

[node name="player_detector_col" type="CollisionPolygon2D" parent="player_detector"]
position = Vector2(11, -20)
scale = Vector2(1.39423, 1.38942)
polygon = PackedVector2Array(44, 4, 36, -12, 24, -24, 4, -32, -20, -32, -40, -24, -52, -12, -60, 4, -60, 20, 44, 20)

[node name="state_machine" type="Node" parent="."]
script = ExtResource("3_ntrv7")

[node name="st_" type="Node" parent="state_machine"]
script = ExtResource("4_attu2")
